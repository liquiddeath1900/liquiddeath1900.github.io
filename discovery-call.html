<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Discovery Call Generator | SeamlessFlow.ai</title>
    <meta name="description" content="Cannabis dispensary discovery call form and report generator">
    <meta name="robots" content="noindex, nofollow">
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        .step-btn.active { background-color: #06b6d4; color: white; }
        .step-btn.completed { background-color: #10b981; color: white; }
        @media print { .no-print { display: none; } }
    </style>
<link rel="stylesheet" href="assets/css/chatbot-widget.css">
</head>
<body class="bg-gray-900 text-white min-h-screen">
    <!-- Header -->
    <header class="bg-gray-800 border-b border-gray-700 px-4 py-3 no-print">
        <div class="max-w-4xl mx-auto flex items-center justify-between">
            <div class="flex items-center gap-3">
                <img src="assets/images/logo.png" alt="SeamlessFlow.ai" class="h-8 w-auto" onerror="this.style.display='none'">
                <h1 class="text-lg font-bold text-cyan-400">Discovery Call Generator</h1>
            </div>
            <div class="flex gap-2">
                <button onclick="generatePDF()" class="bg-cyan-500 hover:bg-cyan-600 px-4 py-2 rounded-lg font-semibold text-sm">
                    Generate PDF
                </button>
                <a href="index.html" class="bg-gray-700 hover:bg-gray-600 px-4 py-2 rounded-lg text-sm">Back to Site</a>
            </div>
        </div>
    </header>

    <!-- Social Proof Bar -->
    <section class="py-6 bg-green-900 border-b border-green-700">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex flex-wrap justify-center items-center gap-6 md:gap-12 text-white text-sm md:text-base">
                <div class="flex items-center"><i class="fas fa-clock text-green-400 mr-2"></i><span class="font-bold mr-1">15-Min</span> Call</div>
                <div class="hidden md:block w-px h-6 bg-green-600"></div>
                <div class="flex items-center"><i class="fas fa-dollar-sign text-green-400 mr-2"></i><span class="font-bold mr-1">100%</span> Free</div>
                <div class="hidden md:block w-px h-6 bg-green-600"></div>
                <div class="flex items-center"><i class="fas fa-ban text-green-400 mr-2"></i>No Pressure</div>
                <div class="hidden md:block w-px h-6 bg-green-600"></div>
                <div class="flex items-center"><i class="fas fa-cannabis text-green-400 mr-2"></i>Cannabis-Focused</div>
            </div>
        </div>
    </section>

    <!-- Progress Steps -->
    <div class="bg-gray-800 px-4 py-2 border-b border-gray-700 no-print">
        <div class="max-w-4xl mx-auto">
            <div class="flex gap-1 overflow-x-auto pb-2" id="stepButtons">
                <!-- Generated by JS -->
            </div>
        </div>
    </div>

    <!-- What to Expect -->
    <section class="py-16 bg-white">
        <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
            <h2 class="text-3xl font-bold text-center mb-4">What to Expect on Your Call</h2>
            <p class="text-gray-600 text-center mb-12">No sales pitch. Just honest advice about your dispensary's digital presence.</p>
            <div class="grid md:grid-cols-3 gap-8">
                <div class="text-center p-6 bg-green-50 rounded-xl">
                    <div class="bg-green-100 rounded-full w-12 h-12 flex items-center justify-center mx-auto mb-4">
                        <span class="text-green-600 font-bold text-lg">1</span>
                    </div>
                    <h3 class="font-bold mb-2">We Listen (5 min)</h3>
                    <p class="text-gray-600 text-sm">Tell us about your dispensary, your goals, and what's not working right now.</p>
                </div>
                <div class="text-center p-6 bg-green-50 rounded-xl">
                    <div class="bg-green-100 rounded-full w-12 h-12 flex items-center justify-center mx-auto mb-4">
                        <span class="text-green-600 font-bold text-lg">2</span>
                    </div>
                    <h3 class="font-bold mb-2">We Analyze (5 min)</h3>
                    <p class="text-gray-600 text-sm">We'll pull up your GBP, website, and rankings live and show you exactly where you stand.</p>
                </div>
                <div class="text-center p-6 bg-green-50 rounded-xl">
                    <div class="bg-green-100 rounded-full w-12 h-12 flex items-center justify-center mx-auto mb-4">
                        <span class="text-green-600 font-bold text-lg">3</span>
                    </div>
                    <h3 class="font-bold mb-2">You Decide (5 min)</h3>
                    <p class="text-gray-600 text-sm">We'll recommend next steps. No pressure â€” you decide if it makes sense for your business.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Form Container -->
    <main class="max-w-4xl mx-auto px-4 py-6">
        <form id="discoveryForm">
            <!-- Step 0: Basic Info -->
            <div class="step-content" data-step="0">
                <h2 class="text-2xl font-bold text-cyan-400 mb-6">Basic Information</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div>
                        <label class="block text-sm text-gray-300 mb-1">Date</label>
                        <input type="date" name="date" class="w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-2">
                    </div>
                    <div>
                        <label class="block text-sm text-gray-300 mb-1">Dispensary Name</label>
                        <input type="text" name="dispensaryName" class="w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-2">
                    </div>
                    <div>
                        <label class="block text-sm text-gray-300 mb-1">Contact Name</label>
                        <input type="text" name="contactName" class="w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-2">
                    </div>
                    <div>
                        <label class="block text-sm text-gray-300 mb-1">Title/Role</label>
                        <input type="text" name="titleRole" class="w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-2">
                    </div>
                    <div>
                        <label class="block text-sm text-gray-300 mb-1">Phone</label>
                        <input type="tel" name="phone" class="w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-2">
                    </div>
                    <div>
                        <label class="block text-sm text-gray-300 mb-1">Email</label>
                        <input type="email" name="email" class="w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-2">
                    </div>
                    <div>
                        <label class="block text-sm text-gray-300 mb-1">Location/Address</label>
                        <input type="text" name="location" class="w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-2">
                    </div>
                    <div>
                        <label class="block text-sm text-gray-300 mb-1">Website</label>
                        <input type="url" name="website" class="w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-2">
                    </div>
                </div>

                <h3 class="text-lg font-semibold text-gray-300 mt-6 mb-4">Business Details</h3>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div>
                        <label class="block text-sm text-gray-300 mb-1">How long have they been open?</label>
                        <input type="text" name="howLongOpen" class="w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-2">
                    </div>
                    <div>
                        <label class="block text-sm text-gray-300 mb-1">How many employees?</label>
                        <input type="text" name="employeeCount" class="w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-2">
                    </div>
                    <div>
                        <label class="block text-sm text-gray-300 mb-1">Hours of operation?</label>
                        <input type="text" name="hoursOfOperation" class="w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-2">
                    </div>
                    <div>
                        <label class="block text-sm text-gray-300 mb-1">How did they hear about you?</label>
                        <input type="text" name="heardAboutUs" class="w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-2">
                    </div>
                </div>

                <div class="flex flex-wrap gap-4 mt-4">
                    <label class="flex items-center gap-2 cursor-pointer">
                        <input type="checkbox" name="onWeedmaps" class="w-5 h-5 rounded">
                        <span class="text-gray-300">On Weedmaps</span>
                    </label>
                    <label class="flex items-center gap-2 cursor-pointer">
                        <input type="checkbox" name="onLeafly" class="w-5 h-5 rounded">
                        <span class="text-gray-300">On Leafly</span>
                    </label>
                </div>

                <div class="mt-4">
                    <label class="block text-sm text-gray-300 mb-1">Has Google Business Profile?</label>
                    <select name="hasGBP" class="w-full md:w-1/2 bg-gray-800 border border-gray-600 rounded-lg px-4 py-2">
                        <option value="">Select...</option>
                        <option value="yes">Yes</option>
                        <option value="no">No</option>
                        <option value="not_sure">Not sure</option>
                    </select>
                </div>
            </div>

            <!-- Step 1: Time Drains -->
            <div class="step-content hidden" data-step="1">
                <h2 class="text-2xl font-bold text-cyan-400 mb-2">Time Drains</h2>
                <p class="text-gray-400 text-sm mb-6">Listening for: repetitive tasks, manual processes, bottlenecks</p>

                <div class="space-y-4">
                    <div>
                        <label class="block text-sm text-gray-300 mb-1">Walk me through your typical day from open to close</label>
                        <textarea name="typicalDayNotes" rows="4" class="w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-2"></textarea>
                    </div>

                    <div>
                        <label class="block text-sm text-gray-300 mb-1">Repetitive tasks mentioned</label>
                        <input type="text" name="repetitiveTask1" placeholder="Task 1" class="w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-2 mb-2">
                        <input type="text" name="repetitiveTask2" placeholder="Task 2" class="w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-2 mb-2">
                        <input type="text" name="repetitiveTask3" placeholder="Task 3" class="w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-2">
                    </div>

                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div>
                            <label class="block text-sm text-gray-300 mb-1">What takes way longer than it should?</label>
                            <input type="text" name="whatTakesLong" class="w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-2">
                        </div>
                        <div>
                            <label class="block text-sm text-gray-300 mb-1">Estimated hours/week wasted</label>
                            <input type="number" name="hoursWastedWeekly" class="w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-2">
                        </div>
                    </div>

                    <div>
                        <label class="block text-sm text-gray-300 mb-1">What's the most annoying part of Metrc?</label>
                        <input type="text" name="metrcAnnoyance" class="w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-2">
                    </div>
                    <label class="flex items-center gap-2 cursor-pointer">
                        <input type="checkbox" name="metrcFrustrationConfirmed" class="w-5 h-5 rounded">
                        <span class="text-gray-300">They groaned/showed frustration (compliance pain confirmed)</span>
                    </label>

                    <div>
                        <label class="block text-sm text-gray-300 mb-1">How do you update your menu across platforms?</label>
                        <textarea name="menuUpdateProcess" rows="2" class="w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-2"></textarea>
                    </div>

                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div>
                            <label class="block text-sm text-gray-300 mb-1">Menu Update Method</label>
                            <select name="menuUpdateMethod" class="w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-2">
                                <option value="">Select...</option>
                                <option value="manual">Manual (one platform at a time)</option>
                                <option value="some_automation">Some automation</option>
                                <option value="not_multiple">Not on multiple platforms</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-sm text-gray-300 mb-1">Time spent on menu updates weekly</label>
                            <input type="text" name="menuUpdateTimeWeekly" class="w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-2">
                        </div>
                    </div>

                    <div>
                        <label class="block text-sm text-gray-300 mb-1">How long to train a new budtender on your products?</label>
                        <input type="text" name="budtenderTrainingTime" class="w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-2">
                    </div>
                    <label class="flex items-center gap-2 cursor-pointer">
                        <input type="checkbox" name="knowledgeDocumented" class="w-5 h-5 rounded">
                        <span class="text-gray-300">Knowledge is documented somewhere</span>
                    </label>
                </div>
            </div>

            <!-- Step 2: Money Leaks -->
            <div class="step-content hidden" data-step="2">
                <h2 class="text-2xl font-bold text-cyan-400 mb-2">Money Leaks</h2>
                <p class="text-gray-400 text-sm mb-6">Listening for: missed revenue, lost customers, wasted spend</p>

                <div class="space-y-4">
                    <div>
                        <label class="block text-sm text-gray-300 mb-2">How do customers find you right now?</label>
                        <div class="flex flex-wrap gap-4">
                            <label class="flex items-center gap-2"><input type="checkbox" name="source_foot" class="w-4 h-4"> Foot traffic</label>
                            <label class="flex items-center gap-2"><input type="checkbox" name="source_wom" class="w-4 h-4"> Word of mouth</label>
                            <label class="flex items-center gap-2"><input type="checkbox" name="source_google" class="w-4 h-4"> Google search</label>
                            <label class="flex items-center gap-2"><input type="checkbox" name="source_weedmaps" class="w-4 h-4"> Weedmaps/Leafly</label>
                            <label class="flex items-center gap-2"><input type="checkbox" name="source_social" class="w-4 h-4"> Social media</label>
                        </div>
                        <input type="text" name="primarySource" placeholder="Primary source" class="w-full md:w-1/2 bg-gray-800 border border-gray-600 rounded-lg px-4 py-2 mt-2">
                    </div>

                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div>
                            <label class="block text-sm text-gray-300 mb-1">When is your slowest time?</label>
                            <input type="text" name="slowestTime" class="w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-2">
                        </div>
                        <div>
                            <label class="block text-sm text-gray-300 mb-1">What staff does during slow time</label>
                            <input type="text" name="staffDuringSlow" class="w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-2">
                        </div>
                    </div>
                    <label class="flex items-center gap-2 cursor-pointer">
                        <input type="checkbox" name="payingToStandAround" class="w-5 h-5 rounded">
                        <span class="text-gray-300">Paying people to stand around (opportunity)</span>
                    </label>

                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div>
                            <label class="block text-sm text-gray-300 mb-1">Ever run out of popular strains?</label>
                            <select name="stockOutIssue" class="w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-2">
                                <option value="">Select...</option>
                                <option value="yes">Yes</option>
                                <option value="no">No</option>
                                <option value="often">Happens often</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-sm text-gray-300 mb-1">Which strains?</label>
                            <input type="text" name="stockOutStrains" class="w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-2">
                        </div>
                    </div>
                    <div>
                        <label class="block text-sm text-gray-300 mb-1">Estimated lost sales from stockouts</label>
                        <input type="text" name="estimatedLostSales" class="w-full md:w-1/2 bg-gray-800 border border-gray-600 rounded-lg px-4 py-2">
                    </div>

                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div>
                            <label class="block text-sm text-gray-300 mb-1">Missed after-hours leads/week</label>
                            <input type="number" name="missedAfterHoursLeads" class="w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-2">
                        </div>
                        <div>
                            <label class="block text-sm text-gray-300 mb-1">Are they tracking missed leads?</label>
                            <select name="trackingMissedLeads" class="w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-2">
                                <option value="">Select...</option>
                                <option value="dont_know">They don't know (red flag)</option>
                                <option value="a_lot">A lot</option>
                                <option value="not_many">Not many</option>
                            </select>
                        </div>
                    </div>

                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div>
                            <label class="block text-sm text-gray-300 mb-1">What % of walk-ins actually buy?</label>
                            <input type="text" name="walkInConversion" class="w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-2">
                        </div>
                        <div>
                            <label class="block text-sm text-gray-300 mb-1">Conversion Level</label>
                            <select name="conversionLevel" class="w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-2">
                                <option value="">Select...</option>
                                <option value="high">High (70%+)</option>
                                <option value="medium">Medium (50-70%)</option>
                                <option value="low">Low (under 50%) - education problem</option>
                            </select>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Step 3: Stress Points -->
            <div class="step-content hidden" data-step="3">
                <h2 class="text-2xl font-bold text-cyan-400 mb-2">Stress Points</h2>
                <p class="text-gray-400 text-sm mb-6">Listening for: fears, compliance anxiety, risk</p>

                <div class="space-y-4">
                    <div>
                        <label class="block text-sm text-gray-300 mb-1">What keeps you up at night about this business?</label>
                        <textarea name="keepsUpAtNight" rows="3" class="w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-2"></textarea>
                    </div>

                    <div>
                        <label class="block text-sm text-gray-300 mb-1">Primary concern</label>
                        <select name="primaryConcern" class="w-full md:w-1/2 bg-gray-800 border border-gray-600 rounded-lg px-4 py-2">
                            <option value="">Select...</option>
                            <option value="compliance">Compliance/regulations</option>
                            <option value="competition">Competition</option>
                            <option value="cash_flow">Cash flow</option>
                            <option value="staffing">Staffing</option>
                            <option value="other">Other</option>
                        </select>
                    </div>

                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div>
                            <label class="block text-sm text-gray-300 mb-1">Close calls with Metrc reporting?</label>
                            <select name="metrcIssues" class="w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-2">
                                <option value="">Select...</option>
                                <option value="yes">Yes</option>
                                <option value="worried">No but worried about it</option>
                                <option value="no">No and not worried</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-sm text-gray-300 mb-1">What happened?</label>
                            <input type="text" name="metrcIssueDetails" class="w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-2">
                        </div>
                    </div>

                    <div class="flex items-center gap-4">
                        <label class="flex items-center gap-2 cursor-pointer">
                            <input type="checkbox" name="gotFinedBefore" class="w-5 h-5 rounded">
                            <span class="text-gray-300">Got fined before?</span>
                        </label>
                        <input type="text" name="fineAmount" placeholder="Amount" class="bg-gray-800 border border-gray-600 rounded-lg px-4 py-2">
                    </div>

                    <div>
                        <label class="block text-sm text-gray-300 mb-1">How do you stay on top of regulation changes?</label>
                        <input type="text" name="regulationMethod" class="w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-2">
                    </div>

                    <div>
                        <label class="block text-sm text-gray-300 mb-1">What happens if your best budtender quits tomorrow?</label>
                        <textarea name="bestBudtenderQuits" rows="2" class="w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-2"></textarea>
                    </div>
                    <label class="flex items-center gap-2 cursor-pointer">
                        <input type="checkbox" name="knowledgeWalksOut" class="w-5 h-5 rounded">
                        <span class="text-gray-300">Knowledge walks out the door (AI opportunity)</span>
                    </label>
                </div>
            </div>

            <!-- Step 4: Competition -->
            <div class="step-content hidden" data-step="4">
                <h2 class="text-2xl font-bold text-cyan-400 mb-2">Competition</h2>
                <p class="text-gray-400 text-sm mb-6">Listening for: urgency, competitive pressure</p>

                <div class="space-y-4">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div>
                            <label class="block text-sm text-gray-300 mb-1">Dispensaries within a mile?</label>
                            <input type="text" name="nearbyDispensaries" class="w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-2">
                        </div>
                        <div>
                            <label class="block text-sm text-gray-300 mb-1">Competition Level</label>
                            <select name="competitionLevel" class="w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-2">
                                <option value="">Select...</option>
                                <option value="heavy">Heavy (5+)</option>
                                <option value="moderate">Moderate (2-4)</option>
                                <option value="light">Light (0-1)</option>
                            </select>
                        </div>
                    </div>

                    <div>
                        <label class="block text-sm text-gray-300 mb-1">When you Google 'dispensary near me', where do you show up?</label>
                        <select name="googleRanking" class="w-full md:w-1/2 bg-gray-800 border border-gray-600 rounded-lg px-4 py-2">
                            <option value="">Select...</option>
                            <option value="top3">Top 3 (map pack)</option>
                            <option value="page1">Page 1 but not map pack</option>
                            <option value="page2">Page 2 or beyond</option>
                            <option value="dont_know">They don't know</option>
                            <option value="not_showing">Not showing up at all</option>
                        </select>
                    </div>

                    <div>
                        <label class="block text-sm text-gray-300 mb-1">What are competitors doing that seems to be working?</label>
                        <textarea name="competitorStrategies" rows="4" class="w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-2"></textarea>
                    </div>
                </div>
            </div>

            <!-- Step 5: Live Demo -->
            <div class="step-content hidden" data-step="5">
                <h2 class="text-2xl font-bold text-cyan-400 mb-6">Live Demo Notes</h2>

                <div class="space-y-4">
                    <label class="flex items-center gap-2 cursor-pointer">
                        <input type="checkbox" name="didSearchDemo" class="w-5 h-5 rounded">
                        <span class="text-gray-300">Did the "dispensary near me" search demo</span>
                    </label>

                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div>
                            <label class="block text-sm text-gray-300 mb-1">Their actual ranking</label>
                            <input type="text" name="actualRanking" class="w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-2">
                        </div>
                        <div>
                            <label class="block text-sm text-gray-300 mb-1">Their reaction</label>
                            <input type="text" name="clientReaction" class="w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-2">
                        </div>
                    </div>

                    <label class="flex items-center gap-2 cursor-pointer">
                        <input type="checkbox" name="showedLocalFalcon" class="w-5 h-5 rounded">
                        <span class="text-gray-300">Showed Local Falcon heatmap</span>
                    </label>

                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div>
                            <label class="block text-sm text-gray-300 mb-1">Visibility score (%)</label>
                            <input type="text" name="visibilityScore" class="w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-2">
                        </div>
                        <div>
                            <label class="block text-sm text-gray-300 mb-1">Average rank</label>
                            <input type="text" name="averageRank" class="w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-2">
                        </div>
                    </div>

                    <div>
                        <label class="block text-sm text-gray-300 mb-2">Competitors in top 3:</label>
                        <input type="text" name="competitor1" placeholder="Competitor 1" class="w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-2 mb-2">
                        <input type="text" name="competitor2" placeholder="Competitor 2" class="w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-2 mb-2">
                        <input type="text" name="competitor3" placeholder="Competitor 3" class="w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-2">
                    </div>
                </div>
            </div>

            <!-- Step 6: Pain Summary -->
            <div class="step-content hidden" data-step="6">
                <h2 class="text-2xl font-bold text-cyan-400 mb-2">Pain Summary</h2>
                <p class="text-gray-400 text-sm mb-6">Fill after call - Top 3 pains identified</p>

                <div class="space-y-6">
                    <div class="bg-gray-800 p-4 rounded-lg">
                        <h3 class="font-semibold text-yellow-400 mb-3">Pain #1</h3>
                        <textarea name="pain1" rows="2" placeholder="Describe the pain..." class="w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-2 mb-2"></textarea>
                        <input type="text" name="pain1Solution" placeholder="Potential solution" class="w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-2">
                    </div>

                    <div class="bg-gray-800 p-4 rounded-lg">
                        <h3 class="font-semibold text-yellow-400 mb-3">Pain #2</h3>
                        <textarea name="pain2" rows="2" placeholder="Describe the pain..." class="w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-2 mb-2"></textarea>
                        <input type="text" name="pain2Solution" placeholder="Potential solution" class="w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-2">
                    </div>

                    <div class="bg-gray-800 p-4 rounded-lg">
                        <h3 class="font-semibold text-yellow-400 mb-3">Pain #3</h3>
                        <textarea name="pain3" rows="2" placeholder="Describe the pain..." class="w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-2 mb-2"></textarea>
                        <input type="text" name="pain3Solution" placeholder="Potential solution" class="w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-2">
                    </div>
                </div>
            </div>

            <!-- Step 7: Money Math -->
            <div class="step-content hidden" data-step="7">
                <h2 class="text-2xl font-bold text-cyan-400 mb-2">Money Math</h2>
                <p class="text-gray-400 text-sm mb-6">Calculate for proposal</p>

                <div class="space-y-6">
                    <div class="bg-gray-800 p-6 rounded-lg">
                        <h3 class="font-semibold text-yellow-400 mb-4">Time Wasted Calculation</h3>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4 items-end">
                            <div>
                                <label class="block text-sm text-gray-300 mb-1">Hours wasted weekly</label>
                                <input type="number" name="hoursWastedWeeklyCalc" id="hoursWastedWeeklyCalc" oninput="calculateMoneyMath()" class="w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-2">
                            </div>
                            <div>
                                <label class="block text-sm text-gray-300 mb-1">Monthly (x4)</label>
                                <div id="hoursMonthlyDisplay" class="bg-gray-700 px-4 py-2 rounded-lg text-xl font-bold text-cyan-400">0 hours/month</div>
                            </div>
                        </div>
                    </div>

                    <div class="bg-gray-800 p-6 rounded-lg">
                        <h3 class="font-semibold text-yellow-400 mb-4">Lost Revenue Calculation</h3>
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-4 items-end">
                            <div>
                                <label class="block text-sm text-gray-300 mb-1">Missed leads/week</label>
                                <input type="number" name="missedLeadsWeeklyCalc" id="missedLeadsWeeklyCalc" oninput="calculateMoneyMath()" class="w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-2">
                            </div>
                            <div>
                                <label class="block text-sm text-gray-300 mb-1">Avg ticket ($)</label>
                                <input type="number" name="avgTicket" id="avgTicket" oninput="calculateMoneyMath()" class="w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-2">
                            </div>
                            <div>
                                <label class="block text-sm text-gray-300 mb-1">Monthly Lost (x4 x 50%)</label>
                                <div id="monthlyLostDisplay" class="bg-gray-700 px-4 py-2 rounded-lg text-xl font-bold text-red-400">$0/month</div>
                            </div>
                        </div>
                    </div>

                    <div class="bg-gray-800 p-6 rounded-lg">
                        <h3 class="font-semibold text-yellow-400 mb-4">Ranking Impact</h3>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div>
                                <label class="block text-sm text-gray-300 mb-1">Current ranking position</label>
                                <input type="text" name="currentRankingPosition" class="w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-2">
                            </div>
                            <div>
                                <label class="block text-sm text-gray-300 mb-1">Traffic lost to top 3</label>
                                <input type="text" name="trafficLostToCompetitors" class="w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-2">
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Step 8: Next Steps -->
            <div class="step-content hidden" data-step="8">
                <h2 class="text-2xl font-bold text-cyan-400 mb-6">Next Steps</h2>

                <div class="space-y-4">
                    <div class="flex flex-wrap gap-4">
                        <label class="flex items-center gap-2"><input type="checkbox" name="sendFollowUp" class="w-5 h-5"> Send follow-up email</label>
                        <label class="flex items-center gap-2"><input type="checkbox" name="sendProposal" class="w-5 h-5"> Send proposal</label>
                        <label class="flex items-center gap-2"><input type="checkbox" name="scheduleFollowUp" class="w-5 h-5"> Schedule follow-up call</label>
                        <label class="flex items-center gap-2"><input type="checkbox" name="addToCRM" class="w-5 h-5"> Add to CRM</label>
                        <label class="flex items-center gap-2"><input type="checkbox" name="createAudit" class="w-5 h-5"> Create custom audit</label>
                    </div>

                    <div>
                        <label class="block text-sm text-gray-300 mb-1">Follow-up date</label>
                        <input type="date" name="followUpDate" class="w-full md:w-1/3 bg-gray-800 border border-gray-600 rounded-lg px-4 py-2">
                    </div>

                    <div>
                        <label class="block text-sm text-gray-300 mb-1">Notes</label>
                        <textarea name="nextStepsNotes" rows="3" class="w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-2"></textarea>
                    </div>

                    <div class="bg-gray-800 p-6 rounded-lg">
                        <h3 class="font-semibold text-yellow-400 mb-4">HOT OR NOT</h3>
                        <select name="leadStatus" class="w-full md:w-1/2 bg-gray-700 border border-gray-600 rounded-lg px-4 py-2 mb-3">
                            <option value="">Select...</option>
                            <option value="hot">HOT - Ready to buy, clear pain, has budget</option>
                            <option value="warm">WARM - Interested but needs nurturing</option>
                            <option value="cold">COLD - Not a fit right now</option>
                        </select>
                        <input type="text" name="leadStatusReason" placeholder="Reason" class="w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-2">
                    </div>

                    <div class="bg-cyan-600 p-6 rounded-lg text-center mt-8">
                        <button type="button" onclick="generatePDF()" class="bg-white text-cyan-600 hover:bg-gray-100 px-8 py-3 rounded-lg font-bold text-lg">
                            Generate & Download PDF Report
                        </button>
                    </div>
                </div>
            </div>
        </form>

        <!-- Navigation -->
        <div class="flex justify-between mt-8 pt-6 border-t border-gray-700 no-print">
            <button onclick="prevStep()" id="prevBtn" class="px-6 py-2 bg-gray-700 hover:bg-gray-600 rounded-lg disabled:opacity-50">
                Previous
            </button>
            <button onclick="nextStep()" id="nextBtn" class="px-6 py-2 bg-cyan-500 hover:bg-cyan-600 rounded-lg">
                Next
            </button>
        </div>
    </main>

    <!-- Trust Signals Strip -->
    <section class="py-10 bg-gray-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex flex-wrap justify-center items-center gap-6 md:gap-10">
                <div class="flex items-center text-gray-700">
                    <div class="bg-green-100 rounded-full p-2 mr-3"><i class="fas fa-handshake text-green-600"></i></div>
                    <span class="font-semibold">No Contracts</span>
                </div>
                <div class="flex items-center text-gray-700">
                    <div class="bg-green-100 rounded-full p-2 mr-3"><i class="fas fa-times-circle text-green-600"></i></div>
                    <span class="font-semibold">Cancel Anytime</span>
                </div>
                <div class="flex items-center text-gray-700">
                    <div class="bg-green-100 rounded-full p-2 mr-3"><i class="fas fa-chart-line text-green-600"></i></div>
                    <span class="font-semibold">Results in 30 Days</span>
                </div>
                <div class="flex items-center text-gray-700">
                    <div class="bg-green-100 rounded-full p-2 mr-3"><i class="fas fa-map-marker-alt text-green-600"></i></div>
                    <span class="font-semibold">NYC-Based Team</span>
                </div>
            </div>
        </div>
    </section>

    <!-- Upgraded Final CTA -->
    <section class="py-20 bg-gradient-to-r from-green-600 to-green-800 text-white">
        <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
            <h2 class="text-3xl md:text-5xl font-bold mb-6">Prefer to Chat Instead?</h2>
            <p class="text-xl text-green-100 mb-8 max-w-2xl mx-auto">Talk to Jamie, our AI assistant, or call us directly. Whatever works for you.</p>
            <div class="flex flex-col sm:flex-row gap-4 justify-center items-center">
                <button onclick="document.getElementById('chatToggle').click();" class="bg-white text-green-700 px-8 py-4 rounded-lg text-lg font-bold inline-flex items-center transform hover:scale-105 transition-all shadow-lg cursor-pointer"><i class="fas fa-comments mr-3"></i>Chat With Jamie Now</button>
                <a href="tel:+13477498146" class="border-2 border-white text-white px-8 py-4 rounded-lg text-lg font-bold inline-flex items-center hover:bg-white hover:text-green-700 transition-all"><i class="fas fa-phone mr-3"></i>(347) 749-8146</a>
            </div>
            <p class="mt-6 text-green-200 text-sm"><i class="fas fa-shield-alt mr-2"></i>No obligation. No pressure. Just a conversation about your goals.</p>
        </div>
    </section>

    <script>
        const STEPS = ['Basic Info', 'Time Drains', 'Money Leaks', 'Stress Points', 'Competition', 'Live Demo', 'Pain Summary', 'Money Math', 'Next Steps'];
        let currentStep = 0;

        // Initialize
        document.addEventListener('DOMContentLoaded', () => {
            // Set today's date
            document.querySelector('input[name="date"]').value = new Date().toISOString().split('T')[0];

            // Render step buttons
            const stepBtns = document.getElementById('stepButtons');
            STEPS.forEach((step, idx) => {
                const btn = document.createElement('button');
                btn.type = 'button';
                btn.className = 'step-btn px-3 py-1 rounded-full text-sm whitespace-nowrap bg-gray-700 text-gray-400';
                btn.textContent = `${idx + 1}. ${step}`;
                btn.onclick = () => goToStep(idx);
                stepBtns.appendChild(btn);
            });

            updateStepDisplay();
        });

        function goToStep(step) {
            currentStep = step;
            updateStepDisplay();
        }

        function nextStep() {
            if (currentStep < STEPS.length - 1) {
                currentStep++;
                updateStepDisplay();
            }
        }

        function prevStep() {
            if (currentStep > 0) {
                currentStep--;
                updateStepDisplay();
            }
        }

        function updateStepDisplay() {
            // Hide all steps
            document.querySelectorAll('.step-content').forEach(el => el.classList.add('hidden'));

            // Show current step
            document.querySelector(`[data-step="${currentStep}"]`).classList.remove('hidden');

            // Update step buttons
            document.querySelectorAll('.step-btn').forEach((btn, idx) => {
                btn.classList.remove('active', 'completed');
                if (idx === currentStep) btn.classList.add('active');
                else if (idx < currentStep) btn.classList.add('completed');
            });

            // Update nav buttons
            document.getElementById('prevBtn').disabled = currentStep === 0;
            document.getElementById('nextBtn').textContent = currentStep === STEPS.length - 1 ? 'Done' : 'Next';

            // Scroll to top
            window.scrollTo(0, 0);
        }

        function calculateMoneyMath() {
            const hoursWeekly = parseFloat(document.getElementById('hoursWastedWeeklyCalc').value) || 0;
            const missedLeads = parseFloat(document.getElementById('missedLeadsWeeklyCalc').value) || 0;
            const avgTicket = parseFloat(document.getElementById('avgTicket').value) || 0;

            const hoursMonthly = hoursWeekly * 4;
            const monthlyLost = missedLeads * 4 * avgTicket * 0.5;

            document.getElementById('hoursMonthlyDisplay').textContent = `${hoursMonthly} hours/month`;
            document.getElementById('monthlyLostDisplay').textContent = `$${monthlyLost.toFixed(2)}/month`;
        }

        function getFormData() {
            const form = document.getElementById('discoveryForm');
            const formData = new FormData(form);
            const data = {};

            for (let [key, value] of formData.entries()) {
                if (form.querySelector(`[name="${key}"]`).type === 'checkbox') {
                    data[key] = form.querySelector(`[name="${key}"]`).checked;
                } else {
                    data[key] = value;
                }
            }

            // Get all checkboxes (even unchecked ones)
            form.querySelectorAll('input[type="checkbox"]').forEach(cb => {
                data[cb.name] = cb.checked;
            });

            return data;
        }

        function generatePDF() {
            const { jsPDF } = window.jspdf;
            const doc = new jsPDF();
            const data = getFormData();

            // Calculate money math values
            const hoursWeekly = parseFloat(data.hoursWastedWeeklyCalc) || parseFloat(data.hoursWastedWeekly) || 0;
            const hoursMonthly = hoursWeekly * 4;
            const missedLeads = parseFloat(data.missedLeadsWeeklyCalc) || parseFloat(data.missedAfterHoursLeads) || 0;
            const avgTicket = parseFloat(data.avgTicket) || 0;
            const monthlyLost = missedLeads * 4 * avgTicket * 0.5;

            let y = 20;
            const lineHeight = 7;
            const margin = 20;
            const pageWidth = doc.internal.pageSize.width;

            // Helper functions
            function addText(text, x = margin, size = 10, style = 'normal') {
                doc.setFontSize(size);
                doc.setFont('helvetica', style);
                const lines = doc.splitTextToSize(text, pageWidth - margin * 2);
                lines.forEach(line => {
                    if (y > 270) { doc.addPage(); y = 20; }
                    doc.text(line, x, y);
                    y += lineHeight;
                });
            }

            function addSection(title) {
                y += 5;
                if (y > 250) { doc.addPage(); y = 20; }
                doc.setFillColor(6, 182, 212);
                doc.rect(margin, y - 5, pageWidth - margin * 2, 8, 'F');
                doc.setTextColor(255, 255, 255);
                doc.setFontSize(12);
                doc.setFont('helvetica', 'bold');
                doc.text(title, margin + 3, y);
                doc.setTextColor(0, 0, 0);
                y += 10;
            }

            // Header
            doc.setFillColor(17, 24, 39);
            doc.rect(0, 0, pageWidth, 35, 'F');
            doc.setTextColor(6, 182, 212);
            doc.setFontSize(20);
            doc.setFont('helvetica', 'bold');
            doc.text('SeamlessFlow.ai', margin, 15);
            doc.setFontSize(14);
            doc.setTextColor(255, 255, 255);
            doc.text('Discovery Call Report', margin, 25);
            doc.setTextColor(156, 163, 175);
            doc.setFontSize(10);
            doc.text(data.date || new Date().toLocaleDateString(), pageWidth - margin - 30, 25);

            doc.setTextColor(0, 0, 0);
            y = 45;

            // Dispensary Name
            doc.setFontSize(16);
            doc.setFont('helvetica', 'bold');
            doc.text(data.dispensaryName || 'Untitled Dispensary', margin, y);
            y += 12;

            // Contact Info
            addSection('Contact Information');
            addText(`Contact: ${data.contactName || 'N/A'} - ${data.titleRole || 'N/A'}`);
            addText(`Phone: ${data.phone || 'N/A'} | Email: ${data.email || 'N/A'}`);
            addText(`Location: ${data.location || 'N/A'}`);
            addText(`Website: ${data.website || 'N/A'}`);

            // Business Overview
            addSection('Business Overview');
            addText(`Open for: ${data.howLongOpen || 'N/A'} | Employees: ${data.employeeCount || 'N/A'} | Hours: ${data.hoursOfOperation || 'N/A'}`);
            addText(`Weedmaps: ${data.onWeedmaps ? 'Yes' : 'No'} | Leafly: ${data.onLeafly ? 'Yes' : 'No'} | Google Business: ${data.hasGBP || 'N/A'}`);

            // Top Pain Points
            addSection('Top Pain Points Identified');
            if (data.pain1) {
                addText(`1. ${data.pain1}`, margin, 10, 'bold');
                addText(`   Solution: ${data.pain1Solution || 'TBD'}`);
            }
            if (data.pain2) {
                addText(`2. ${data.pain2}`, margin, 10, 'bold');
                addText(`   Solution: ${data.pain2Solution || 'TBD'}`);
            }
            if (data.pain3) {
                addText(`3. ${data.pain3}`, margin, 10, 'bold');
                addText(`   Solution: ${data.pain3Solution || 'TBD'}`);
            }

            // Money Math
            addSection('Money Math');
            doc.setFillColor(236, 254, 255);
            doc.rect(margin, y - 3, pageWidth - margin * 2, 25, 'F');
            addText(`Time Wasted Monthly: ${hoursMonthly} hours (${hoursWeekly} hrs/week x 4)`, margin + 5, 11, 'bold');
            doc.setTextColor(220, 38, 38);
            addText(`Lost Revenue Monthly: $${monthlyLost.toFixed(2)} (${missedLeads} leads x $${avgTicket} x 50%)`, margin + 5, 11, 'bold');
            doc.setTextColor(0, 0, 0);
            if (data.currentRankingPosition) {
                addText(`Current Ranking: ${data.currentRankingPosition} | Traffic Lost: ${data.trafficLostToCompetitors || 'N/A'}`);
            }

            // Competition
            if (data.nearbyDispensaries) {
                addSection('Competition Analysis');
                addText(`Nearby competitors: ${data.nearbyDispensaries} (${data.competitionLevel || 'Unknown'} competition)`);
                addText(`Google ranking: ${data.googleRanking || 'N/A'}`);
                const competitors = [data.competitor1, data.competitor2, data.competitor3].filter(c => c);
                if (competitors.length) addText(`Top competitors: ${competitors.join(', ')}`);
            }

            // Lead Status
            addSection('Lead Status');
            const statusEmoji = data.leadStatus === 'hot' ? 'HOT' : data.leadStatus === 'warm' ? 'WARM' : data.leadStatus === 'cold' ? 'COLD' : 'TBD';
            doc.setFontSize(14);
            doc.setFont('helvetica', 'bold');
            if (data.leadStatus === 'hot') doc.setTextColor(220, 38, 38);
            else if (data.leadStatus === 'warm') doc.setTextColor(245, 158, 11);
            else if (data.leadStatus === 'cold') doc.setTextColor(59, 130, 246);
            doc.text(statusEmoji, margin, y);
            doc.setTextColor(0, 0, 0);
            y += lineHeight;
            if (data.leadStatusReason) addText(`Reason: ${data.leadStatusReason}`);

            // Next Steps
            addSection('Next Steps');
            const nextSteps = [];
            if (data.sendFollowUp) nextSteps.push('Send follow-up email');
            if (data.sendProposal) nextSteps.push('Send proposal');
            if (data.scheduleFollowUp) nextSteps.push('Schedule follow-up call');
            if (data.addToCRM) nextSteps.push('Add to CRM');
            if (data.createAudit) nextSteps.push('Create custom audit');
            nextSteps.forEach(step => addText(`- ${step}`));
            if (data.followUpDate) addText(`Follow-up date: ${data.followUpDate}`);
            if (data.nextStepsNotes) addText(`Notes: ${data.nextStepsNotes}`);

            // Footer
            y = 280;
            doc.setFontSize(8);
            doc.setTextColor(107, 114, 128);
            doc.text('Generated by SeamlessFlow.ai | Cannabis Dispensary Automation & SEO | www.seamlessflow.ai', pageWidth / 2, y, { align: 'center' });

            // Save
            const fileName = `Discovery-Call-${(data.dispensaryName || 'Report').replace(/[^a-z0-9]/gi, '-')}-${data.date || new Date().toISOString().split('T')[0]}.pdf`;
            doc.save(fileName);
        }
    </script>
<script src="assets/js/chatbot-widget.js"></script>
</body>
</html>
